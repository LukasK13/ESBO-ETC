

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Adding Targets &mdash; ESBO-ETC 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ESBO-ETC
          

          
            
            <img src="../_static/ESBOds_LOGO.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Building the Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output/output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_documentation.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ESBO-ETC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Adding Targets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>ESBO-ETC can be easily extended by adding new targets, new optical components or a new detector component.
In the following, only the minimal required changes in the source code are described.
Of course, the documentation must be edited as well if new components are added and corresponding build tests should be defined.
Before any changes can be committed to the repository, the developer must ensure that all build tests pass.
The build tests can be started by running</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>venv/bin/python3 -m unittest discover tests
</pre></div>
</td></tr></table></div>
<p>in the console in the project’s root directory.</p>
<div class="section" id="adding-targets">
<h1>Adding Targets<a class="headerlink" href="#adding-targets" title="Permalink to this headline">¶</a></h1>
<p>Adding a new target type to ESBO-ETC is the easiest extension.</p>
<p>In the first place, the new target component must be defined in a new file <em>classes</em>-folder.
Thereby, the new component must subclass <code class="docutils literal notranslate"><span class="pre">ATarget</span></code> in order to be decoratable by other optical components.
The class must provide a constructor which accepts all attributes of the configuration tag as parameters and initializes the superclass passing the emitted radiation as parameter.
Additionally, the class must implement the method <code class="docutils literal notranslate"><span class="pre">checkConfig()</span></code> in order to check the configuration.
In case of an configuration error, the method must return the corresponding error message.</p>
<p>Optionally, the factory method <code class="docutils literal notranslate"><span class="pre">create()</span></code> of the class <code class="docutils literal notranslate"><span class="pre">TargetFactory</span></code> has to be modified, if the constructor of the new component requires more parameters than the configuration tag attributes.</p>
</div>
<div class="section" id="adding-optical-components">
<h1>Adding Optical Components<a class="headerlink" href="#adding-optical-components" title="Permalink to this headline">¶</a></h1>
<p>Extending ESBO-ETC by a new optical component consists of two tasks.</p>
<p>First of all, the new optical component class has to be implemented in a separate file in the <em>classes</em>-folder.
The new class must inherit from the abstract class <code class="docutils literal notranslate"><span class="pre">AOpticalComponent</span></code> or, in case of an optical component with thermal emission, from the abstract class <code class="docutils literal notranslate"><span class="pre">AHotOpticalComponent</span></code> and implement all abstract methods.
In case of a cold optical component, the new class must implement the method <code class="docutils literal notranslate"><span class="pre">checkConfig()</span></code> and call the constructor of the super class.
In case of a hot optical component, the new class must implement the method <code class="docutils literal notranslate"><span class="pre">checkConfig()</span></code> as well as the method <code class="docutils literal notranslate"><span class="pre">propagate()</span></code> and call the constructor of the super class.</p>
<p>The method <code class="docutils literal notranslate"><span class="pre">checkConfig()</span></code> is used for checking the XML-configuration file and accepts as parameter the corresponding part of the configuration as <code class="docutils literal notranslate"><span class="pre">Entry</span></code>-object.
In case of an configuration error, the method must return the corresponding error message.</p>
<p>The method <code class="docutils literal notranslate"><span class="pre">propagate()</span></code> is used to model the propagation of incoming radiation through the optical component.
Therefore, this method receives as parameter the incoming radiation as <code class="docutils literal notranslate"><span class="pre">SpectralQty</span></code>-object and must return the manipulated radiation as <code class="docutils literal notranslate"><span class="pre">SpectralQty</span></code>-object.</p>
<p>The optional second task consists of modifying the factory method <code class="docutils literal notranslate"><span class="pre">create()</span></code> of the class <code class="docutils literal notranslate"><span class="pre">OpticalComponentFactory</span></code> in order to properly initialize the new optical component from the configuration.
This is only necessary if the new optical component needs additional parameters besides the attributes of the corresponding configuration tag.</p>
</div>
<div class="section" id="adding-detector-components">
<h1>Adding Detector Components<a class="headerlink" href="#adding-detector-components" title="Permalink to this headline">¶</a></h1>
<p>In order to add a new detector component, two tasks must be completed.</p>
<p>The new detector component must be implemented in a designated file in the <em>classes</em>-folder, subclassing <code class="docutils literal notranslate"><span class="pre">ASensor</span></code>.
Thereby, the new class must implement the three methods <code class="docutils literal notranslate"><span class="pre">calcSNR()</span></code>, <code class="docutils literal notranslate"><span class="pre">calcExpTime()</span></code> and <code class="docutils literal notranslate"><span class="pre">calcSensitivity()</span></code>.
All three methods obtain the incoming background and signal radiation as well as the obstruction factor as parameters apart from some specific parameters and must return the corresponding calculated value.
Additionally, all three methods must be able to calculate multiple SNRs, exposure times or sensitivities at once if an array of specific parameters is provided.</p>
<p>Besides the implementation of the detector, the factory method <code class="docutils literal notranslate"><span class="pre">create()</span></code> of the class <code class="docutils literal notranslate"><span class="pre">SensorFactory</span></code> can be modified.</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Lukas Klass, Philipp Maier

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>